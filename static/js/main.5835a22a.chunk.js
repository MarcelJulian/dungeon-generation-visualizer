(this["webpackJsonpdungeon-generation-visualizer"]=this["webpackJsonpdungeon-generation-visualizer"]||[]).push([[0],[,,,,,,,,function(t,e,i){t.exports=i(17)},,,,,function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var n=i(0),r=i.n(n),s=i(7),h=i.n(s),a=(i(13),i(1)),o=i(2),l=i(4),u=i(3),c=(i(14),function(t){Object(l.a)(i,t);var e=Object(u.a)(i);function i(t){var n;return Object(a.a)(this,i),(n=e.call(this,t)).state={curAlgo:"BSP",visuState:"stop"},n}return Object(o.a)(i,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{id:"title"},"Procedural Dungeon Generation Visualizer"),r.a.createElement("ul",{id:"nav"},r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"1")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"2")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"3"))),this.showButton())}},{key:"showButton",value:function(){var t=this;return"stop"===this.state.visuState?r.a.createElement("button",{id:"vis",onClick:function(){return t.visualizeBSPSplit()}},"Visualize BSP"):"start"===this.state.visuState?r.a.createElement("button",{id:"vis",onClick:function(){return t.resetVisualization()}},"Reset Visualization"):void 0}},{key:"visualizeBSPSplit",value:function(){this.setState({visuState:"start"});var t=document.getElementById("BSP-split");console.log(t),console.log(t.children);for(var e=0,i=function(i){var n=t.children[i],r=n.children[0].getAttribute("dur");r=r.substring(0,r.length-1),r*=1e3,setTimeout((function(){n.children[0].beginElement()}),e+200*i),e+=r},n=0;n<t.children.length;n++)i(n)}},{key:"resetVisualization",value:function(){this.setState({visuState:"stop"});for(var t=document.getElementById("BSP-split");t.childElementCount;){var e=t.children[0];e.parentNode.removeChild(e)}this.props.resetHandler()}}]),i}(n.Component)),d=i(5),p=function t(e,i,n,r,s,h,o){var l=this;Object(a.a)(this,t),this.getSize=function(){return{x:l.x,y:l.y,width:l.width,height:l.height}},this.getAll=function(){return{x:l.x,y:l.y,width:l.width,height:l.height,isSplitVertical:l.isSplitVertical,isSplitHorizontal:l.isSplitHorizontal,splitPos:l.splitPos}},this.x=e,this.y=i,this.width=n,this.height=r,this.isSplitVertical=s,this.isSplitHorizontal=h,this.splitPos=o},f=function(){function t(e,i,n,r){var s=this,h=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;Object(a.a)(this,t),this.leftChild=null,this.rightChild=null,this.isSplitVertical=!1,this.isSplitHorizontal=!1,this.splitPos=0,this.lowerLim=.3,this.upperLim=.7,this.minWidth=4,this.minHeight=4,this.getX=function(){return s.x},this.getY=function(){return s.y},this.getWidth=function(){return s.width},this.getHeight=function(){return s.height},this.getSize=function(){return{x:s.x,y:s.y,width:s.width,height:s.height}},this.getLeftChild=function(){return s.leftChild},this.getRightChild=function(){return s.rightChild},this.getIsSplitVertical=function(){return s.isSplitVertical},this.getIsSplitHorizontal=function(){return s.isSplitHorizontal},this.getSplitPos=function(){return s.splitPos},this.x=e,this.y=i,this.width=n,this.height=r,this.isSplitVertical=h,this.isSplitHorizontal=o,this.splitPos=l}return Object(o.a)(t,[{key:"split",value:function(){if(null!=this.leftChild||null!=this.rightChild)return!1;if(this.width/this.height>=1.5)this.isSplitVertical=!0;else if(this.height/this.width>=1.5)this.isSplitHorizontal=!0;else{Math.floor(2*Math.random())?this.isSplitVertical=!0:this.isSplitHorizontal=!0}return this.isSplitVertical?this.splitVertical():this.isSplitHorizontal?this.splitHorizontal():void 0}},{key:"splitVertical",value:function(){if(this.width<2*this.minWidth)return!1;var e=Math.floor(this.width-this.width*(this.lowerLim+1-this.upperLim)),i=Math.floor(Math.random()*e);return((i+=Math.floor(this.width*this.lowerLim))<this.minWidth||this.width-i<this.minWidth)&&(i=this.minWidth),this.splitPos=i,this.leftChild=new t(this.x,this.y,i,this.height),this.rightChild=new t(this.x+i,this.y,this.width-i,this.height),!0}},{key:"splitHorizontal",value:function(){if(this.height<2*this.minHeight)return!1;var e=Math.floor(this.height-this.height*(this.lowerLim+1-this.upperLim)),i=Math.floor(Math.random()*e);return((i+=Math.floor(this.height*this.lowerLim))<this.minHeight||this.height-i<this.minHeight)&&(i=this.minHeight),this.splitPos=i,this.leftChild=new t(this.x,this.y,this.width,i),this.rightChild=new t(this.x,this.y+i,this.width,this.height-i),!0}},{key:"toString",value:function(){console.log("x: "+this.x+" y: "+this.y),console.log("width: "+this.width+" height: "+this.height)}}]),t}();var g=function(t,e,i,n){var r=[];return r=function(t,e){var i=[];for(i.push(t);0!==i.length;)e.push(i[0]),i[0].split()&&(i.push(i[0].getLeftChild()),i.push(i[0].getRightChild())),i.shift();return e}(new f(t,e,i,n),r)},v=(i(15),function(t){Object(l.a)(i,t);var e=Object(u.a)(i);function i(){return Object(a.a)(this,i),e.apply(this,arguments)}return Object(o.a)(i,[{key:"render",value:function(){var t=this.props,e=t.convertedLeaf,i=t.visuSpeed,n=e.getSize(),s=n.x,h=n.y,a=n.width,o=n.height,l=function(t,e,i,n){return"M"+t+" "+e+" L"+(t+i)+" "+e+" L"+(t+i)+" "+(e+n)+" L"+t+" "+(e+n)+" L"+t+" "+e+" Z"}(s,h,a,o),u=2*(a+o),c={strokeDasharray:u,strokeDashoffset:u},d=S(i,u);return r.a.createElement("path",{id:"BSP-split-path-0",d:l,style:c},w(d))}}]),i}(n.Component)),m=function(t){Object(l.a)(i,t);var e=Object(u.a)(i);function i(){return Object(a.a)(this,i),e.apply(this,arguments)}return Object(o.a)(i,[{key:"render",value:function(){var t=this.props,e=t.id,i=t.convertedLeaf,n=t.visuSpeed,s=i.getAll(),h=s.x,a=s.y,o=s.width,l=s.height,u=s.isSplitVertical,c=(s.isSplitHorizontal,function(t,e,i,n,r,s,h){return r?{x1:t+h,y1:e,x2:t+h,y2:e+n}:{x1:t,y1:e+h,x2:t+i,y2:e+h}}(h,a,o,l,u,0,s.splitPos)),d=c.x1,p=c.y1,f=c.x2,g=c.y2,v=0,m={strokeDasharray:v=u?l:o,strokeDashoffset:v},y=S(n,v);return r.a.createElement("line",{id:e,x1:d,y1:p,x2:f,y2:g,style:m},w(y))}}]),i}(n.Component);function w(t){return r.a.createElement("animate",{attributeType:"CSS",attributeName:"stroke-dashoffset",to:"0",dur:t+"s",fill:"freeze",begin:"indefinite"})}function S(t,e){return e/t}i(16);function y(t){var e,i,n=(e=t.curState.column,i=t.curState.row,g(0,0,e,i));console.log(n);var s={width:t.curState.winWidth,height:t.curState.winHeight};return r.a.createElement("svg",{style:s},r.a.createElement("g",{id:"BSP-split",className:"BSP-svg-paths"},function(t,e,i){var n=b(t,e);return r.a.createElement(v,{convertedLeaf:n,visuSpeed:i})}(n[0],t.curState,t.visuSpeed),function(t,e,i){for(var n=[],s=0;s<t.length;s++){var h=t[s];if(0!==h.getSplitPos()){var a=b(h,e),o="BSP-split-path-"+(s+1);n.push(r.a.createElement(m,{key:o,id:o,convertedLeaf:a,visuSpeed:i}))}}return n}(n,t.curState,t.visuSpeed)))}function b(t,e){var i=e.interval,n=e.column*i/2,r=e.row*i/2,s=e.winWidth/2,h=e.winHeight/2-r;return new p(s-n+t.getX()*i,h+t.getY()*i,t.getWidth()*i,t.getHeight()*i,t.getIsSplitVertical(),t.getIsSplitHorizontal(),t.getSplitPos()*i)}var E=function(t){Object(l.a)(i,t);var e=Object(u.a)(i);function i(t){var n;return Object(a.a)(this,i),(n=e.call(this,t)).randNum=function(){return 1e3*Math.random()},n.createGrid=function(){for(var t=[],e={width:n.state.interval+"px",height:n.state.interval+"px"},i=0;i<n.state.row;i++){for(var s=[],h=0;h<n.state.column;h++)s.push(r.a.createElement("td",{id:"node-".concat(i+1,"-").concat(h+1),key:"node-".concat(i+1,"-").concat(h+1),style:e}));t.push(r.a.createElement("tr",{id:"row-".concat(i+1),key:"row-".concat(i+1)},s))}return t},n.state={winWidth:window.innerWidth,winHeight:window.innerHeight-99,row:15,column:25,interval:30},n.updateWindowDimensions=n.updateWindowDimensions.bind(Object(d.a)(n)),n}return Object(o.a)(i,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){var t=window.innerWidth,e=window.innerHeight-99;this.setState({winWidth:t,winHeight:e})}},{key:"render",value:function(){var t={width:this.state.winWidth,height:this.state.winHeight};return r.a.createElement("div",{key:this.randNum(),id:"visualizer"},r.a.createElement("div",{id:"grid",style:t},r.a.createElement("table",null,r.a.createElement("tbody",null,this.createGrid()))),r.a.createElement(y,{curState:this.state,visuSpeed:this.props.visuSpeed}))}}]),i}(n.Component),H=function(t){Object(l.a)(i,t);var e=Object(u.a)(i);function i(t){var n;return Object(a.a)(this,i),(n=e.call(this,t)).resetHandler=function(){0===n.state.reset?n.setState({reset:1}):n.setState({reset:0})},n.state={curAlgo:"BSP",visuState:"stop",reset:0,visuSpeed:750},n}return Object(o.a)(i,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(c,{resetHandler:this.resetHandler}),r.a.createElement(E,{algo:this.state.curAlgo,visuState:this.state.visuState,visuSpeed:this.state.visuSpeed}))}}]),i}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.5835a22a.chunk.js.map