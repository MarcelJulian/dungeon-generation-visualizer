(this["webpackJsonpdungeon-generation-visualizer"]=this["webpackJsonpdungeon-generation-visualizer"]||[]).push([[0],[,,,,,,,,function(t,e,i){t.exports=i(17)},,,,,function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){},function(t,e,i){"use strict";i.r(e);var n=i(0),r=i.n(n),h=i(7),s=i.n(h),a=(i(13),i(1)),o=i(2),l=i(4),u=i(3),c=(i(14),function(t){Object(l.a)(i,t);var e=Object(u.a)(i);function i(t){var n;return Object(a.a)(this,i),(n=e.call(this,t)).state={curAlgo:"BSP",visuState:"stop"},n}return Object(o.a)(i,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{id:"title"},"Procedural Dungeon Generation Visualizer"),r.a.createElement("ul",{id:"nav"},r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"1")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"2")),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},"3"))),this.showButton())}},{key:"showButton",value:function(){var t=this;return"stop"===this.state.visuState?r.a.createElement("button",{id:"vis",onClick:function(){return t.visualizeBSPSplit()}},"Visualize BSP"):"start"===this.state.visuState?r.a.createElement("button",{id:"vis",onClick:function(){return t.resetVisualization()}},"Reset Visualization"):void 0}},{key:"visualizeBSPSplit",value:function(){this.setState({visuState:"start"});for(var t=document.getElementById("BSP-split"),e=0,i=function(i){var n=t.children[i],r=n.children[0].getAttribute("dur");r=r.substring(0,r.length-1),r*=1e3,setTimeout((function(){n.children[0].beginElement()}),e+200*i),e+=r},n=0;n<t.childElementCount;n++)i(n);e+=200*t.childElementCount+500;var r=document.getElementById("animate-split-gray"),h=0;h=(h=r.getAttribute("dur")).substring(0,h.length-1),h*=1e3,setTimeout((function(){r.beginElement(),(r=document.getElementById("animate-split-thin")).beginElement()}),e),console.log(h),e+=h,t=document.getElementById("BSP-rooms"),console.log(t),console.log(t.children);for(var s=function(i){var n=t.children[i],r=n.children[0].getAttribute("dur");r=r.substring(0,r.length-1),r*=1e3,setTimeout((function(){n.children[0].beginElement()}),e+200*i),e+=r},a=0;a<t.childElementCount;a++)s(a)}},{key:"resetVisualization",value:function(){this.setState({visuState:"stop"});for(var t=document.getElementById("BSP-split");t.childElementCount;){var e=t.children[0];e.parentNode.removeChild(e)}this.props.resetHandler()}}]),i}(n.Component)),d=i(5),g=function t(e,i,n,r){var h=this;Object(a.a)(this,t),this.getSize=function(){return{x:h.x,y:h.y,width:h.width,height:h.height}},this.x=e,this.y=i,this.width=n,this.height=r},m=function t(e,i,n,r){var h=this;Object(a.a)(this,t),this.minWidth=2,this.minHeight=2,this.getX=function(){return h.x},this.getY=function(){return h.y},this.getWidth=function(){return h.width},this.getHeight=function(){return h.height},this.getSize=function(){return{x:h.x,y:h.y,width:h.width,height:h.height}};var s=n-2-this.minWidth+1,o=r-2-this.minHeight+1;this.width=Math.floor(Math.random()*s)+this.minWidth,this.height=Math.floor(Math.random()*o)+this.minHeight;var l=n-2-this.width+1,u=r-2-this.height+1;this.x=Math.floor(Math.random()*l)+e+1,this.y=Math.floor(Math.random()*u)+i+1},f=function t(e,i,n,r,h,s,o){var l=this;Object(a.a)(this,t),this.getSize=function(){return{x:l.x,y:l.y,width:l.width,height:l.height}},this.getAll=function(){return{x:l.x,y:l.y,width:l.width,height:l.height,isSplitVertical:l.isSplitVertical,isSplitHorizontal:l.isSplitHorizontal,splitPos:l.splitPos}},this.x=e,this.y=i,this.width=n,this.height=r,this.isSplitVertical=h,this.isSplitHorizontal=s,this.splitPos=o},p=function(){function t(e,i,n,r){var h=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;Object(a.a)(this,t),this.leftChild=null,this.rightChild=null,this.isSplitVertical=!1,this.isSplitHorizontal=!1,this.splitPos=0,this.room=null,this.lowerLim=.2,this.upperLim=.8,this.minWidth=4,this.minHeight=4,this.getX=function(){return h.x},this.getY=function(){return h.y},this.getWidth=function(){return h.width},this.getHeight=function(){return h.height},this.getSize=function(){return{x:h.x,y:h.y,width:h.width,height:h.height}},this.getLeftChild=function(){return h.leftChild},this.getRightChild=function(){return h.rightChild},this.getIsSplitVertical=function(){return h.isSplitVertical},this.getIsSplitHorizontal=function(){return h.isSplitHorizontal},this.getSplitPos=function(){return h.splitPos},this.getRoom=function(){return h.room},this.x=e,this.y=i,this.width=n,this.height=r,this.isSplitVertical=s,this.isSplitHorizontal=o,this.splitPos=l}return Object(o.a)(t,[{key:"split",value:function(){if(null!=this.leftChild||null!=this.rightChild)return!1;if(this.width/this.height>=1.5)this.isSplitVertical=!0;else if(this.height/this.width>=1.5)this.isSplitHorizontal=!0;else{Math.floor(2*Math.random())?this.isSplitVertical=!0:this.isSplitHorizontal=!0}return this.isSplitVertical?this.splitVertical():this.isSplitHorizontal?this.splitHorizontal():void 0}},{key:"splitVertical",value:function(){if(this.width<2*this.minWidth)return!1;var e=Math.floor(this.width-this.width*(this.upperLim-this.lowerLim));e=e>this.width-2*this.minWidth?this.width-2*this.minWidth:e,e+=1;var i=this.width*this.lowerLim>this.minWidth?this.width*this.lowerLim:this.minWidth,n=Math.floor(Math.random()*e);return n+=Math.floor(i),this.splitPos=n,this.leftChild=new t(this.x,this.y,n,this.height),this.rightChild=new t(this.x+n,this.y,this.width-n,this.height),!0}},{key:"splitHorizontal",value:function(){if(this.height<2*this.minHeight)return!1;var e=Math.floor(this.height-this.height*(this.upperLim-this.lowerLim));e=e>this.height-2*this.minHeight?this.height-2*this.minHeight:e,e+=1;var i=this.height*this.lowerLim>this.minHeight?this.height*this.lowerLim:this.minHeight,n=Math.floor(Math.random()*e);return n+=Math.floor(i),this.splitPos=n,this.leftChild=new t(this.x,this.y,this.width,n),this.rightChild=new t(this.x,this.y+n,this.width,this.height-n),!0}},{key:"createRoom",value:function(){null===this.leftChild&&null===this.room&&(this.room=new m(this.x,this.y,this.width,this.height))}},{key:"toString",value:function(){console.log("x: "+this.x+" y: "+this.y),console.log("width: "+this.width+" height: "+this.height)}}]),t}();var v=function(t,e,i,n){var r=[];return r=function(t,e){var i=[];for(i.push(t);0!==i.length;)e.push(i[0]),i[0].split()?(i.push(i[0].getLeftChild()),i.push(i[0].getRightChild())):i[0].createRoom(),i.shift();return e}(new p(t,e,i,n),r)},w=(i(15),function(t){Object(l.a)(i,t);var e=Object(u.a)(i);function i(){return Object(a.a)(this,i),e.apply(this,arguments)}return Object(o.a)(i,[{key:"render",value:function(){var t=this.props,e=t.convertedLeaf,i=t.visuSpeed,n=e.getSize(),h=n.x,s=n.y,a=n.width,o=n.height,l=H(h,s,a,o),u=2*(a+o),c={strokeDasharray:u,strokeDashoffset:u},d=E(i,u);return r.a.createElement("path",{id:"BSP-split-path-0",d:l,style:c},b(d))}}]),i}(n.Component)),S=function(t){Object(l.a)(i,t);var e=Object(u.a)(i);function i(){return Object(a.a)(this,i),e.apply(this,arguments)}return Object(o.a)(i,[{key:"render",value:function(){var t=this.props,e=t.id,i=t.convertedLeaf,n=t.visuSpeed,h=i.getAll(),s=h.x,a=h.y,o=h.width,l=h.height,u=h.isSplitVertical,c=(h.isSplitHorizontal,function(t,e,i,n,r,h,s){return r?{x1:t+s,y1:e,x2:t+s,y2:e+n}:{x1:t,y1:e+s,x2:t+i,y2:e+s}}(s,a,o,l,u,0,h.splitPos)),d=c.x1,g=c.y1,m=c.x2,f=c.y2,p=0,v={strokeDasharray:p=u?l:o,strokeDashoffset:p},w=E(n,p);return r.a.createElement("line",{id:e,x1:d,y1:g,x2:m,y2:f,style:v},b(w))}}]),i}(n.Component),y=function(t){Object(l.a)(i,t);var e=Object(u.a)(i);function i(){return Object(a.a)(this,i),e.apply(this,arguments)}return Object(o.a)(i,[{key:"render",value:function(){var t=this.props,e=t.id,i=t.convertedRoom,n=t.visuSpeed,h=i.getSize(),s=h.x,a=h.y,o=h.width,l=h.height,u=H(s,a,o,l),c=2*(o+l),d={strokeDasharray:c,strokeDashoffset:c},g=E(n,c);return r.a.createElement("path",{id:e,d:u,style:d},b(g))}}]),i}(n.Component);function b(t){return r.a.createElement("animate",{attributeType:"CSS",attributeName:"stroke-dashoffset",to:"0",dur:t+"s",fill:"freeze",begin:"indefinite"})}function E(t,e){return e/t}function H(t,e,i,n){return"M"+t+" "+e+" L"+(t+i)+" "+e+" L"+(t+i)+" "+(e+n)+" L"+t+" "+(e+n)+" L"+t+" "+e+" Z"}i(16);function k(t){var e,i,n=(e=t.curState.column,i=t.curState.row,v(0,0,e,i));console.log(n);var h={width:t.curState.winWidth,height:t.curState.winHeight};return r.a.createElement("svg",{style:h},r.a.createElement("g",{id:"BSP-split",className:"BSP-svg-paths"},function(t,e,i){var n=x(t,e);return r.a.createElement(w,{convertedLeaf:n,visuSpeed:i})}(n[0],t.curState,t.visuSpeed),function(t,e,i){for(var n=[],h=0;h<t.length;h++){var s=t[h];if(0!==s.getSplitPos()){var a=x(s,e),o="BSP-split-path-"+(h+1);n.push(r.a.createElement(S,{key:o,id:o,convertedLeaf:a,visuSpeed:i}))}}return n}(n,t.curState,t.visuSpeed)),r.a.createElement("animate",{id:"animate-split-gray",xlinkHref:"#BSP-split",attributeType:"CSS",attributeName:"stroke",to:"gray",dur:"2s",fill:"freeze",begin:"indefinite"}),r.a.createElement("animate",{id:"animate-split-thin",xlinkHref:"#BSP-split",attributeType:"CSS",attributeName:"stroke-width",to:"3",dur:"2s",fill:"freeze",begin:"indefinite"}),r.a.createElement("g",{id:"BSP-rooms",className:"BSP-svg-paths"},function(t,e,i){for(var n=[],h=0;h<t.length;h++){var s=t[h];if(null!==s.getRoom()){var a=x(s.getRoom(),e),o="BSP-room-path-"+(h+1);n.push(r.a.createElement(y,{key:o,id:o,convertedRoom:a,visuSpeed:i}))}}return n}(n,t.curState,t.visuSpeed)))}function x(t,e){var i=e.interval,n=e.column*i/2,r=e.row*i/2,h=e.winWidth/2-n,s=e.winHeight/2-r;return t instanceof p?new f(h+t.getX()*i,s+t.getY()*i,t.getWidth()*i,t.getHeight()*i,t.getIsSplitVertical(),t.getIsSplitHorizontal(),t.getSplitPos()*i):t instanceof m?new g(h+t.getX()*i,s+t.getY()*i,t.getWidth()*i,t.getHeight()*i):void 0}var z=function(t){Object(l.a)(i,t);var e=Object(u.a)(i);function i(t){var n;return Object(a.a)(this,i),(n=e.call(this,t)).randNum=function(){return 1e3*Math.random()},n.createGrid=function(){for(var t=[],e={width:n.state.interval+"px",height:n.state.interval+"px"},i=0;i<n.state.row;i++){for(var h=[],s=0;s<n.state.column;s++)h.push(r.a.createElement("td",{id:"node-".concat(i+1,"-").concat(s+1),key:"node-".concat(i+1,"-").concat(s+1),style:e}));t.push(r.a.createElement("tr",{id:"row-".concat(i+1),key:"row-".concat(i+1)},h))}return t},n.state={winWidth:window.innerWidth,winHeight:window.innerHeight-99,row:15,column:25,interval:30},n.updateWindowDimensions=n.updateWindowDimensions.bind(Object(d.a)(n)),n}return Object(o.a)(i,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){var t=window.innerWidth,e=window.innerHeight-99;this.setState({winWidth:t,winHeight:e})}},{key:"render",value:function(){var t={width:this.state.winWidth,height:this.state.winHeight};return r.a.createElement("div",{key:this.randNum(),id:"visualizer"},r.a.createElement("div",{id:"grid",style:t},r.a.createElement("table",null,r.a.createElement("tbody",null,this.createGrid()))),r.a.createElement(k,{curState:this.state,visuSpeed:this.props.visuSpeed}))}}]),i}(n.Component),C=function(t){Object(l.a)(i,t);var e=Object(u.a)(i);function i(t){var n;return Object(a.a)(this,i),(n=e.call(this,t)).resetHandler=function(){0===n.state.reset?n.setState({reset:1}):n.setState({reset:0})},n.state={curAlgo:"BSP",visuState:"stop",reset:0,visuSpeed:750},n}return Object(o.a)(i,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(c,{resetHandler:this.resetHandler}),r.a.createElement(z,{algo:this.state.curAlgo,visuState:this.state.visuState,visuSpeed:this.state.visuSpeed}))}}]),i}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[8,1,2]]]);
//# sourceMappingURL=main.e3e78a80.chunk.js.map